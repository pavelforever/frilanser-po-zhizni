##Установка
`npm i` или `npm i --legacy-peer-deps`
`--legacy-peer-deps` позволит продолжить установку при возникновении конфликтов зависимостей (версий пакетов).

##Запуск шаблона и режимы работы

Шаблон может выполнять несколько сценариев:

1. Режим разработчика: `npm run dev`
2. Режим продакшена: `npm run build`
3. Режим продакшена и отправка результата на сервер по FTP: `npm run deploy`
   Конфигурация FTP находится в файле `config/gulp-settings.js`

4. Режим продакшена и создание ZIP-архива с результатом: `npm run zip`
5. Режим продакшена без создания WEBP изображений и действий связанных с этим форматом: `npm run devbuild`

Дополнительные команды:

1. Ручное создание SVG спрайта: `npm run sprite`
   Иконки нужно положить в папку `src/svgicons`,
   готовый спрайт появится в папке `src/img/icons/icons.svg`
   Изменения в папке `src/svgicons` не отслеживаются в dev режиме, при необходимости можно запустить повторую сборку спрайта
   запускать создание спрайта стоит перед началом работ командой:
2. Конвертация шрифтов с принудительной перезаписью файла стилей: `npm run fonts`

####Режим разработчика

В режиме разработчика выполняются только необходимые для процесса разработки задачи:

- Конвертация шрифтов и запись в файл стилей
- Конвертация SCSS файлов в CSS файлы, переименование псевдонимов
- Сборка HTML файлов, переименование псевдонимов
- При использовании PUG, файлы преобразовываются в HTML, переименовываются псевдонимы
- Собираются JS файлы
- Запускается локальный сервер, открывается браузер с индексной страницей.
- Запускается наблюдатель за изменением фалов. При каждом изменении файла браузер обновляет страницу (кроме страницы-содержания)
- Копируются файлы из указанной папки
- HTML CSS JS файлы результата не записываются на диск (папка dist не создается), это увеличивает скорость работы.

####Режим продакшена

В режиме продакшена выполняется финализация проекта, а именно:

- Конвертация шрифтов и запись в файл стилей
- Конвертация изображений в WEBP формат. Сжатие и оптимизация JPG PNG SVG картинок
- Конвертация SCSS файлов в CSS файлы, переименование псевдонимов, группировка медиа-запросов, добавляются вендорные префиксы для обеспечения кроссбраузерности, обрабатывается подключение WEBP изображений, производится сжатие и оптимизация конечного файла (также создается несжатая копия)
- Сборка HTML файлов, переименование псевдонимов, обрабатывается подключение WEBP изображений
- При использовании PUG, файлы преобразовываются в HTML, переименовываются псевдонимы, обрабатывается подключение WEBP изображений
- Собираются JS файлы, производится сжатие и оптимизация конечного файла. В результат попадает только используемый код. Итогом задачи будет создание двух файлов: сжатого app.min.js (подключен к HTML) и не сжатого app.js для дальнейшего редактирования другими специалистами.
- Копируются файлы из указанной папки
- Все файлы с результатом записываются на диск (обычно в папку dist), локальный сервер не запускается

##Возможные ошибки и их решения

Если браузер не запустился, а в терминале видны ошибки (ERR!) убедитесь что:

- У вас установлен Node.js и Python последней версии
- Терминал открыт с правами администратора
- В названиях папок на всем пути к проекту нет символа # или !
- Папки и файлы должны быть названы латиницей без пробелов
- Тег img и его содержимое должны быть записаны в одну строку без переносов
- В атрибуте src должен быть указан путь к существующей картинке без пробелов

При ошибке "unable to resolve dependency tree": `npm i --legacy-peer-deps`
При ошибке связанной с node-sass запустите команду `npm rebuild node-sass` или `npm install sass gulp-sass --save-dev`
При ошибке связанной с Python запустите команду `npm install -g windows-build-tools`
При ошибке Error [ERR_UNSUPPORTED_ESM_URL_SCHEME]:

1. Качаем версию 14.15.1 (https://nodejs.org/dist/v14.15.1/), в Zip архиве.
2. Заходим в папку с установленным NodeJS, распаковываем содержимое архива в папку, с заменой файлов.
3. Далее идем сюда «Панель управления» => «Система» => «Дополнительные параметры системы» => «Дополнительно» => «Переменные среды»
4. В Системных переменных «Создать» переменную с именем ‘NODE_SKIP_PLATFORM_CHECK’ и присваиваем ей значение ‘1’.
5. Перезапускаем систему, и запускаем шаблон согласно инструкции

---

##Разное
Используются псевдонимы пути к папкам:
`@img = src/img`
`@scss = src/scss`
`@js = src/js`

Плагин для VS Code - Path Autocomplete

    "path-autocomplete.pathMappings": {
    	"@img": "${folder}/src/img", // псевдоним для папки img
    	"@scss": "${folder}/src/scss", // псевдоним для папки scss
    	"@js": "${folder}/src/js", // псевдоним для папки js
    }
